<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>mod_servlet: servlet::logging::log_registry Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mod_servlet
   </div>
   <div id="projectbrief">C++Servlets</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classservlet_1_1logging_1_1log__registry.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classservlet_1_1logging_1_1log__registry-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">servlet::logging::log_registry Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Registry object to configure and hold available loggers.  
 <a href="classservlet_1_1logging_1_1log__registry.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="logger_8h_source.html">logger.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:add72d2c921aef4fddd8f4ecdfbd9199b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add72d2c921aef4fddd8f4ecdfbd9199b"></a>
typedef std::map&lt; std::string, <br class="typebreak"/>
std::string, std::less&lt;&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#add72d2c921aef4fddd8f4ecdfbd9199b">properties_type</a></td></tr>
<tr class="memdesc:add72d2c921aef4fddd8f4ecdfbd9199b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type definition for properties map. <br/></td></tr>
<tr class="separator:add72d2c921aef4fddd8f4ecdfbd9199b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae9319a7debf76082c07681cd83662609"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9319a7debf76082c07681cd83662609"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#ae9319a7debf76082c07681cd83662609">log_registry</a> ()</td></tr>
<tr class="memdesc:ae9319a7debf76082c07681cd83662609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates registry object with default settings. <br/></td></tr>
<tr class="separator:ae9319a7debf76082c07681cd83662609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ad9b078bc1fde02b49209416e86f4d"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classservlet_1_1logging_1_1logger.html">logger</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a31ad9b078bc1fde02b49209416e86f4d">log</a> (const std::string &amp;name=&quot;root&quot;)</td></tr>
<tr class="memdesc:a31ad9b078bc1fde02b49209416e86f4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for registered logger with a given name.  <a href="#a31ad9b078bc1fde02b49209416e86f4d">More...</a><br/></td></tr>
<tr class="separator:a31ad9b078bc1fde02b49209416e86f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2059176afef089624481b03484b2e3bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a2059176afef089624481b03484b2e3bb">read_configuration</a> (const std::string &amp;config_file_name, const std::string &amp;base_dir, bool update_loggers=true)</td></tr>
<tr class="memdesc:a2059176afef089624481b03484b2e3bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads configuration file and parses properties as described in class documentation.  <a href="#a2059176afef089624481b03484b2e3bb">More...</a><br/></td></tr>
<tr class="separator:a2059176afef089624481b03484b2e3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75065b1d5b9fa0e4acfc12ba329bbcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#ab75065b1d5b9fa0e4acfc12ba329bbcb">read_configuration</a> (<a class="el" href="classservlet_1_1logging_1_1log__registry.html#add72d2c921aef4fddd8f4ecdfbd9199b">properties_type</a> props, const std::string &amp;base_dir, bool update_loggers=true)</td></tr>
<tr class="memdesc:ab75065b1d5b9fa0e4acfc12ba329bbcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads configuration properties from provided properies map.  <a href="#ab75065b1d5b9fa0e4acfc12ba329bbcb">More...</a><br/></td></tr>
<tr class="separator:ab75065b1d5b9fa0e4acfc12ba329bbcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a7b47b8ac96bf957646bd3ac13022e"><td class="memItemLeft" align="right" valign="top">LEVEL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a30a7b47b8ac96bf957646bd3ac13022e">get_log_level</a> (const std::string &amp;name)</td></tr>
<tr class="memdesc:a30a7b47b8ac96bf957646bd3ac13022e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns logging level for a logger with a given name.  <a href="#a30a7b47b8ac96bf957646bd3ac13022e">More...</a><br/></td></tr>
<tr class="separator:a30a7b47b8ac96bf957646bd3ac13022e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9732e1c9de687a4d59028e38f383eded"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a9732e1c9de687a4d59028e38f383eded">set_log_level</a> (LEVEL level)</td></tr>
<tr class="memdesc:a9732e1c9de687a4d59028e38f383eded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets new global logging level.  <a href="#a9732e1c9de687a4d59028e38f383eded">More...</a><br/></td></tr>
<tr class="separator:a9732e1c9de687a4d59028e38f383eded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460c688770f3802729420a186059fd02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a460c688770f3802729420a186059fd02">imbue</a> (const std::locale &amp;loc)</td></tr>
<tr class="memdesc:a460c688770f3802729420a186059fd02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imbue locale.  <a href="#a460c688770f3802729420a186059fd02">More...</a><br/></td></tr>
<tr class="separator:a460c688770f3802729420a186059fd02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c1795bc9f84cd551559cdc130c7da1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a28c1795bc9f84cd551559cdc130c7da1">set_base_directory</a> (const std::string &amp;base_dir)</td></tr>
<tr class="memdesc:a28c1795bc9f84cd551559cdc130c7da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets base directory.  <a href="#a28c1795bc9f84cd551559cdc130c7da1">More...</a><br/></td></tr>
<tr class="separator:a28c1795bc9f84cd551559cdc130c7da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb200780ac3fbeac9cf687b471d369b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#adfb200780ac3fbeac9cf687b471d369b">set_base_directory</a> (std::string &amp;&amp;base_dir)</td></tr>
<tr class="memdesc:adfb200780ac3fbeac9cf687b471d369b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets base directory.  <a href="#adfb200780ac3fbeac9cf687b471d369b">More...</a><br/></td></tr>
<tr class="separator:adfb200780ac3fbeac9cf687b471d369b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b101b4e51ba7d0adf09d2140521385"><td class="memItemLeft" align="right" valign="top">SYNC_POLICY&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#aa0b101b4e51ba7d0adf09d2140521385">get_synchronization_policy</a> () const </td></tr>
<tr class="memdesc:aa0b101b4e51ba7d0adf09d2140521385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current synchronization policy used by this registry.  <a href="#aa0b101b4e51ba7d0adf09d2140521385">More...</a><br/></td></tr>
<tr class="separator:aa0b101b4e51ba7d0adf09d2140521385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af566d2d77a2cb6396dd752e14f4faeab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#af566d2d77a2cb6396dd752e14f4faeab">set_synchronization_policy</a> (SYNC_POLICY sync_policy)</td></tr>
<tr class="memdesc:af566d2d77a2cb6396dd752e14f4faeab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets new synchronization policy.  <a href="#af566d2d77a2cb6396dd752e14f4faeab">More...</a><br/></td></tr>
<tr class="separator:af566d2d77a2cb6396dd752e14f4faeab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0956200684adc1941eb12d52e3270fb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a0956200684adc1941eb12d52e3270fb0">set_prefix_printer</a> (<a class="el" href="classservlet_1_1logging_1_1prefix__printer.html">prefix_printer</a> *pp)</td></tr>
<tr class="memdesc:a0956200684adc1941eb12d52e3270fb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets new <code><a class="el" href="classservlet_1_1logging_1_1prefix__printer.html" title="Abstract interface for logging prefix printer. ">prefix_printer</a></code> for this registry.  <a href="#a0956200684adc1941eb12d52e3270fb0">More...</a><br/></td></tr>
<tr class="separator:a0956200684adc1941eb12d52e3270fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d702998e758efe3099ce8a41159d30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a62d702998e758efe3099ce8a41159d30">set_log_output</a> (<a class="el" href="classservlet_1_1logging_1_1log__output.html">log_output</a> *log_out)</td></tr>
<tr class="memdesc:a62d702998e758efe3099ce8a41159d30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets new <code><a class="el" href="classservlet_1_1logging_1_1log__output.html" title="Abstract interface for logging output. ">log_output</a></code> for this registry.  <a href="#a62d702998e758efe3099ce8a41159d30">More...</a><br/></td></tr>
<tr class="separator:a62d702998e758efe3099ce8a41159d30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7991ac582761aea590f834c008e1bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#aaa7991ac582761aea590f834c008e1bc">reset_loggers_config</a> (bool update_prefix_printer, bool update_log_output, bool update_locale)</td></tr>
<tr class="memdesc:aaa7991ac582761aea590f834c008e1bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses all created loggers and resets their configuration with new configuration parameters.  <a href="#aaa7991ac582761aea590f834c008e1bc">More...</a><br/></td></tr>
<tr class="separator:aaa7991ac582761aea590f834c008e1bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a8c096b058539a3f663d2567083840ced"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c096b058539a3f663d2567083840ced"></a>
static constexpr std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a8c096b058539a3f663d2567083840ced">DEFAULT_FILE_ROTATION_SIZE</a> = 1024*1024*16</td></tr>
<tr class="memdesc:a8c096b058539a3f663d2567083840ced"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default file rotation size - 16 Mb. <br/></td></tr>
<tr class="separator:a8c096b058539a3f663d2567083840ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5321b55b5879c2d2c444308b97411a2b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5321b55b5879c2d2c444308b97411a2b"></a>
static constexpr std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a5321b55b5879c2d2c444308b97411a2b">DEFAULT_ASYNC_QUEUE_SIZE</a> = 1024</td></tr>
<tr class="memdesc:a5321b55b5879c2d2c444308b97411a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default size of asynchronous queue used if synchronization policy is <code>SYNC_POLICY::ASYNC</code> <br/></td></tr>
<tr class="separator:a5321b55b5879c2d2c444308b97411a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a988e951d9ccc69bc5cb89f4c27c87088"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a988e951d9ccc69bc5cb89f4c27c87088">add_prefix_printer_factory</a> (const std::string &amp;name, <a class="el" href="structservlet_1_1logging_1_1prefix__printer__factory.html">prefix_printer_factory</a> *fac)</td></tr>
<tr class="memdesc:a988e951d9ccc69bc5cb89f4c27c87088"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method allows to provide custom <code><a class="el" href="classservlet_1_1logging_1_1prefix__printer.html" title="Abstract interface for logging prefix printer. ">prefix_printer</a></code>'s in inherited registries.  <a href="#a988e951d9ccc69bc5cb89f4c27c87088">More...</a><br/></td></tr>
<tr class="separator:a988e951d9ccc69bc5cb89f4c27c87088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5ea3786348682ee1d883b7a9425e17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#a5f5ea3786348682ee1d883b7a9425e17">add_log_output_factory</a> (const std::string &amp;name, <a class="el" href="structservlet_1_1logging_1_1log__output__factory.html">log_output_factory</a> *fac)</td></tr>
<tr class="memdesc:a5f5ea3786348682ee1d883b7a9425e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method allows to provide custom <code><a class="el" href="classservlet_1_1logging_1_1log__output.html" title="Abstract interface for logging output. ">log_output</a></code>'s in inherited registries.  <a href="#a5f5ea3786348682ee1d883b7a9425e17">More...</a><br/></td></tr>
<tr class="separator:a5f5ea3786348682ee1d883b7a9425e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Registry object to configure and hold available loggers. </p>
<p>This object generates new <code>logger</code> objects when requested and configures them as prescribed by the configuration of this registry object. The configuration can be done either programatically (via methods set_log_level, imbue, set_base_directory, set_synchronization_policy, set_prefix_printer, set_log_output), or by properties file (methods read_configuration). This object supports the following configuration parameters:</p>
<ul>
<li>
<code>output.handler</code> - specifies output handler to be used. It supports the following ahdler types: <ol>
<li>
<code>console</code> - redirects logging output to <code>std::cout</code> </li>
<li>
<code>file</code> - redirects logging output to file. Uses the following configuration parameters: <ol>
<li>
<code>file.log.file</code> - name of the logging file. It can be specified with either absolute path or relative, which can be resolved from <code>base_dir</code> Name of the file also can use date and index elements. For example the pattern. <code>"log-%y-%m-%d.%NNN%.out"</code> will resove to <code>"log-16-22-11.001.out"</code> <ol>
<li>
<code>"%y"</code> - resolves to last two digits of a current year; </li>
<li>
<code>"%Y"</code> - resolves to four digits of a current year; </li>
<li>
<code>"%m"</code> - resolves to two digits of a current month; </li>
<li>
<code>"%d"</code> - resolves to two digits of a current day; </li>
<li>
<code>"%NN%"</code> - resolves to the number of this file padded to number of digits equals to number of 'N' caracters in the pattern. This element can be used only if size rotation for the file is requested (see <code>size-file</code> and <code>date-size-file</code>; </li>
</ol>
</li>
</ol>
</li>
<li>
<code>size-file</code> - redirects logging output to file and uses rotation by size. Plus to the <code>log.file</code> configuration parameters with <code>"size-file"</code> prefix also uses following: <ol>
<li>
<code>size-file.rotation size</code> - maximum size of the file after which this file will be closed and new one opened with different index. Default rotation size is 16 Mb. </li>
</ol>
</li>
<li>
<code>date-file</code> - redirects logging output to file and uses rotation by date (00:00:00 of each day). Requires <code>log.file</code> property with <code>"date-file"</code> prefix. </li>
<li>
<code>date-size-file</code> - redirects logging output to file and uses rotation by both date and size. </li>
</ol>
Default <code>output.handler</code> is <code>console</code>  </li>
<li>
<code>prefix.printer</code> - specifies prefix printer to be used. Currently the following printer types are supported: <ol>
<li>
<code>simple</code> - simple prefix printer which prints the line prefix accordingly to the following parameters: <ol>
<li>
<code>simple.log.prefix.format</code> - string to be in the prefix. For example: <code>"[%TIME%] [%NAME%] [%LEVEL%]: "</code>. The follwing pattern elements can be used in the format: <ol>
<li>
<code>%TIME%</code> - current timestamp (as prescribed by <code>"timestamp.format"</code> parameter); </li>
<li>
<code>%THREAD%</code> - current thread id; </li>
<li>
<code>%LEVEL%</code> - current logging level; </li>
<li>
<code>%NAME%</code> - logger name; </li>
</ol>
The default format is <code>"%TIME% | %THREAD% | %LEVEL% | %NAME% | "</code>  </li>
<li>
<code>simple.timestamp.format</code> - format of the timestamp. It follows the specifications of <code>std::strftime</code> function with the addition of <code>%ss</code> specifier which will be substituted with milliseconds. The default timestamp format is: <code>"%y/%m/%d %H:%M:%S.%ss"</code>. It is highly recommended to use default format as it performs mych better than custom formats. </li>
</ol>
</li>
</ol>
</li>
<li>
<code>sync.policy</code> - logging synchronization policy. It can be one of: <code>SINGLE_THREAD</code>, <code>SYNC</code> or <code>ASYNC</code>. For more informations see <code>SYNC_POLICY</code>. Default value is <code>SYNC</code> </li>
<li>
<code>.level</code> - root logging level. This is a global logging level, which will be applied to all loggers which dont have logger specific configuration. Default logging level is <code>WARNING</code> </li>
<li>
<code>logger-name.level</code> - logging level for logger with name <code>"logger-name"</code>. </li>
<li>
<code>locale</code> - valid locale to be used to print locale specific elements. For example <code>"uk_UA.utf8"</code> </li>
</ul>
<p>Configuration can be updated runtime and provided to the registry. All parameters (except <code>sync.policy</code> which cannot be changed runtime) will be updated. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5f5ea3786348682ee1d883b7a9425e17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::add_log_output_factory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structservlet_1_1logging_1_1log__output__factory.html">log_output_factory</a> *&#160;</td>
          <td class="paramname"><em>fac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method allows to provide custom <code><a class="el" href="classservlet_1_1logging_1_1log__output.html" title="Abstract interface for logging output. ">log_output</a></code>'s in inherited registries. </p>
<p>For example if there is a custom <code>system_log_output</code> it can be added in inherited class as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>my_log_registry</div>
<div class="line">{</div>
<div class="line">  my_log_registry()</div>
<div class="line">  {</div>
<div class="line">      <a class="code" href="classservlet_1_1logging_1_1log__registry.html#a5f5ea3786348682ee1d883b7a9425e17">add_log_output_factory</a>(<span class="stringliteral">&quot;sys&quot;</span>, <span class="keyword">new</span> system_log_output_factory{});</div>
<div class="line">  }</div>
<div class="line">};</div>
</div><!-- fragment --><p> And after this it can read configuration with prefix "sys." </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>New <code><a class="el" href="structservlet_1_1logging_1_1log__output__factory.html" title="Abstract interface for log_output factory. ">log_output_factory</a></code> name. </td></tr>
    <tr><td class="paramname">fac</td><td><code><a class="el" href="classservlet_1_1logging_1_1log__output.html" title="Abstract interface for logging output. ">log_output</a></code> factory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a988e951d9ccc69bc5cb89f4c27c87088"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::add_prefix_printer_factory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structservlet_1_1logging_1_1prefix__printer__factory.html">prefix_printer_factory</a> *&#160;</td>
          <td class="paramname"><em>fac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method allows to provide custom <code><a class="el" href="classservlet_1_1logging_1_1prefix__printer.html" title="Abstract interface for logging prefix printer. ">prefix_printer</a></code>'s in inherited registries. </p>
<p>For example if there is a custom <code>color_prefix_printer</code> it can be added in inherited class as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>my_log_registry</div>
<div class="line">{</div>
<div class="line">  my_log_registry()</div>
<div class="line">  {</div>
<div class="line">      <a class="code" href="classservlet_1_1logging_1_1log__registry.html#a988e951d9ccc69bc5cb89f4c27c87088">add_prefix_printer_factory</a>(<span class="stringliteral">&quot;color&quot;</span>, <span class="keyword">new</span> color_prefix_printer_factory{});</div>
<div class="line">  }</div>
<div class="line">};</div>
</div><!-- fragment --><p> And after this it can read configuration with prefix "color." </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>New <code><a class="el" href="structservlet_1_1logging_1_1prefix__printer__factory.html" title="Abstract interface for prefix_printer factory. ">prefix_printer_factory</a></code> name. </td></tr>
    <tr><td class="paramname">fac</td><td><code><a class="el" href="classservlet_1_1logging_1_1prefix__printer.html" title="Abstract interface for logging prefix printer. ">prefix_printer</a></code> factory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a30a7b47b8ac96bf957646bd3ac13022e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LEVEL servlet::logging::log_registry::get_log_level </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns logging level for a logger with a given name. </p>
<p>If no logger present, global logging level will be returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>logger name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>loggin glevel of requested logger. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0b101b4e51ba7d0adf09d2140521385"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SYNC_POLICY servlet::logging::log_registry::get_synchronization_policy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns current synchronization policy used by this registry. </p>
<dl class="section return"><dt>Returns</dt><dd>this registry synchronization policy </dd></dl>

</div>
</div>
<a class="anchor" id="a460c688770f3802729420a186059fd02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::imbue </td>
          <td>(</td>
          <td class="paramtype">const std::locale &amp;&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Imbue locale. </p>
<p>Associates <code>loc</code> to this registry as the new locale object to be used with locale-sensitive operations. All new loggers created by this registry will receive this locale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>New locale for the registry. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a31ad9b078bc1fde02b49209416e86f4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classservlet_1_1logging_1_1logger.html">logger</a>&gt; servlet::logging::log_registry::log </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;root&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for registered logger with a given name. </p>
<p>If not found new logger with this name will be created, registered with this registry and returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Logger name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Registered instance of a logger with a given name. </dd></dl>

</div>
</div>
<a class="anchor" id="a2059176afef089624481b03484b2e3bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::read_configuration </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>config_file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>base_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_loggers</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads configuration file and parses properties as described in class documentation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config_file_name</td><td>Name of configuration file. </td></tr>
    <tr><td class="paramname">base_dir</td><td>Base directory to use to resolve relative paths. </td></tr>
    <tr><td class="paramname">update_loggers</td><td>If <code>true</code> all registered loggers will be updated with new configuration parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab75065b1d5b9fa0e4acfc12ba329bbcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::read_configuration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classservlet_1_1logging_1_1log__registry.html#add72d2c921aef4fddd8f4ecdfbd9199b">properties_type</a>&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>base_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_loggers</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads configuration properties from provided properies map. </p>
<p>Properties are described in class documentation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">props</td><td>Properties map. </td></tr>
    <tr><td class="paramname">base_dir</td><td>Base directory to use to resolve relative paths. </td></tr>
    <tr><td class="paramname">update_loggers</td><td>If <code>true</code> all registered loggers will be updated with new configuration parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaa7991ac582761aea590f834c008e1bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::reset_loggers_config </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_prefix_printer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_log_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_locale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Traverses all created loggers and resets their configuration with new configuration parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">update_prefix_printer</td><td>if <code>true</code> updates <code><a class="el" href="classservlet_1_1logging_1_1prefix__printer.html" title="Abstract interface for logging prefix printer. ">prefix_printer</a></code> for loggers. </td></tr>
    <tr><td class="paramname">update_log_output</td><td>if <code>true</code> updates <code><a class="el" href="classservlet_1_1logging_1_1log__output.html" title="Abstract interface for logging output. ">log_output</a></code> for loggers. </td></tr>
    <tr><td class="paramname">update_locale</td><td>if <code>true</code> updates locales for loggers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a28c1795bc9f84cd551559cdc130c7da1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::set_base_directory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>base_dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets base directory. </p>
<p>This directory is used to resolve any relative path parameters in the configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base_dir</td><td>New base directory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adfb200780ac3fbeac9cf687b471d369b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::set_base_directory </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&amp;&#160;</td>
          <td class="paramname"><em>base_dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets base directory. </p>
<p>This directory is used to resolve any relative path parameters in the configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base_dir</td><td>New base directory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9732e1c9de687a4d59028e38f383eded"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::set_log_level </td>
          <td>(</td>
          <td class="paramtype">LEVEL&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets new global logging level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Level to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62d702998e758efe3099ce8a41159d30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::set_log_output </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classservlet_1_1logging_1_1log__output.html">log_output</a> *&#160;</td>
          <td class="paramname"><em>log_out</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets new <code><a class="el" href="classservlet_1_1logging_1_1log__output.html" title="Abstract interface for logging output. ">log_output</a></code> for this registry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_out</td><td>New <code><a class="el" href="classservlet_1_1logging_1_1log__output.html" title="Abstract interface for logging output. ">log_output</a></code> to be used with this registry. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0956200684adc1941eb12d52e3270fb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::set_prefix_printer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classservlet_1_1logging_1_1prefix__printer.html">prefix_printer</a> *&#160;</td>
          <td class="paramname"><em>pp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets new <code><a class="el" href="classservlet_1_1logging_1_1prefix__printer.html" title="Abstract interface for logging prefix printer. ">prefix_printer</a></code> for this registry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pp</td><td>new <code><a class="el" href="classservlet_1_1logging_1_1prefix__printer.html" title="Abstract interface for logging prefix printer. ">prefix_printer</a></code> to be used by this logger </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af566d2d77a2cb6396dd752e14f4faeab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servlet::logging::log_registry::set_synchronization_policy </td>
          <td>(</td>
          <td class="paramtype">SYNC_POLICY&#160;</td>
          <td class="paramname"><em>sync_policy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets new synchronization policy. </p>
<p>This method will have any effect only if this registry is not yet configured and no loggers are created. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync_policy</td><td>new synchronization polisy to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">configu_exception</td><td>is thrown if loggers has already been created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/servlet/lib/<a class="el" href="logger_8h_source.html">logger.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>servlet</b></li><li class="navelem"><b>logging</b></li><li class="navelem"><a class="el" href="classservlet_1_1logging_1_1log__registry.html">log_registry</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
